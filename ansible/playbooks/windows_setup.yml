- name: Complete windows machine setup and customization
  hosts: windows
  gather_facts: no
  serial: 3

  tasks:
    # system settings like localization
    - include: tasks/win_region.yml
    - include: tasks/win_timezone.yml
    # network settings
    - include: tasks/win_dns.yml
    - include: tasks/win_firewall.yml
    - include: tasks/win_network_profile.yml
    # other settings
    - include: tasks/win_powerplan.yml
    - include: tasks/win_disable_newuser_oobe.yml
    - include: tasks/win_student_create.yml
    # install software
    - include: tasks/win_choco.yml
    - include: tasks/win_choco_update_all.yml
    - include: tasks/win_choco_software_packages.yml
    # windows updates
    - include: tasks/win_update_service.yml
    - include: tasks/win_updates_install.yml
